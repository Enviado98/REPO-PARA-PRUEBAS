<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Update</title>
    <style>
        body {
            background-color: #005a9e; /* Azul Windows 10/11 */
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: none; /* Oculta el cursor */
            overflow: hidden; /* Evita barras de desplazamiento */
            user-select: none; /* Evita que se pueda seleccionar texto */
        }

        /* Contenedor del loader */
        .loader-container {
            position: relative;
            width: 60px;
            height: 60px;
            margin-bottom: 40px;
            animation: rotate 4s linear infinite;
        }

        /* Los puntos del loader */
        .circle {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            animation: spin 4s ease-in-out infinite;
        }

        .circle::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background-color: white;
            border-radius: 50%;
        }

        /* Retrasos para crear el efecto de serpiente */
        .circle:nth-child(1) { animation-delay: 0s; }
        .circle:nth-child(2) { animation-delay: 0.15s; }
        .circle:nth-child(3) { animation-delay: 0.3s; }
        .circle:nth-child(4) { animation-delay: 0.45s; }
        .circle:nth-child(5) { animation-delay: 0.6s; }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); opacity: 1; }
            20% { opacity: 1; }
            50% { transform: rotate(180deg); opacity: 0; }
            100% { transform: rotate(720deg); opacity: 0; }
        }

        .text {
            font-size: 22px;
            font-weight: 300; /* Segoe UI Light */
            text-align: center;
            margin-bottom: 5px;
        }

        .subtext {
            font-size: 22px;
            font-weight: 300;
            text-align: center;
        }

    </style>
</head>
<body>

    <div class="loader-container">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
    </div>

    <div class="text">Trabajando en las actualizaciones <span id="percent">0</span>% completado.</div>
    <div class="subtext">No apagues el equipo.</div>

    <script>
        const percentElement = document.getElementById('percent');
        let currentPercent = 0;

        function updateCounter() {
            // Lógica para simular una actualización real (no lineal)
            // A veces avanza rápido, a veces se traba.
            
            const jump = Math.random() > 0.8 ? Math.floor(Math.random() * 5) + 1 : 1; // 20% de probabilidad de salto grande
            const delay = Math.random() * 3000 + 500; // Espera entre 0.5 y 3.5 segundos

            if (currentPercent < 99) {
                // Si el salto supera 99, lo ajustamos
                if (currentPercent + jump > 99) {
                    currentPercent = 99;
                } else {
                    currentPercent += jump;
                }
                
                percentElement.innerText = currentPercent;
                
                // Llamar a la función de nuevo con un tiempo aleatorio
                setTimeout(updateCounter, delay);
            } else {
                // Se queda en 99% un buen rato (clásico de Windows)
                // Opcional: reiniciar o mostrar mensaje final
                setTimeout(() => {
                   // Aquí podrías poner un mensaje de error o reiniciar el loop
                   // currentPercent = 0; 
                   // updateCounter();
                }, 10000); 
            }
        }

        // Iniciar el contador después de 1 segundo
        setTimeout(updateCounter, 1000);

        // Bloquear menú contextual (clic derecho) para más realismo
        document.addEventListener('contextmenu', event => event.preventDefault());
    </script>
</body>
</html>
